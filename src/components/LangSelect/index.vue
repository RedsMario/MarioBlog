<template>
  <el-dropdown class="international"  @command="handleSetLanguage" placement="bottom">
    <div class="language-change">
      <svg v-if="selectedLanguage === 'zh'" t="1610014795466" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2042">
        <path
          d="M15.054853 391.524497C63.854506 189.82993 229.501328 37.567013 434.467871 5.983237c204.958543-31.583775 408.717094 63.759547 515.900333 241.398284 107.183238 177.646737 96.607313 402.461139-26.79181 569.243953-123.391123 166.774814-335.197617 242.534276-536.292187 191.814637A508.484385 508.484385 0 0 1 73.19844 777.281754 509.036381 509.036381 0 0 1 15.054853 391.524497"
          fill="#E72D14"
          p-id="2043"
        ></path>
        <path
          d="M539.131127 554.963335l-26.047815 33.775759-38.023729-14.263898 21.831845 36.775738-26.055815 33.77576 39.431719-10.511925 22.52784 36.775739V627.762817l40.135715-11.25592-38.02373-15.759888 4.22397-45.783674zM691.210046 463.403985h-40.83971l-12.67191-39.031722-12.671909 42.031701h-40.83171l33.087765 25.519819-12.67191 42.023701 33.087764-26.263813 33.095765 26.263813-12.67191-42.023701 33.087765-28.519798z m-66.879524-160.614858l6.327955 46.53567 19.007864-39.023723 40.83971 6.751952-29.56779-30.775781 19.007865-39.023723-35.19975 16.511883-28.871794-30.767781 6.335955 43.51969-36.60774 19.519861 38.719725 6.751952zM539.827122 102.406552l-26.047815 33.77576-38.719724-16.511883 22.52784 37.519733-26.75981 33.023766 40.135714-10.503926 21.823845 36.775739v-43.527691l41.543705-10.511925-38.02373-16.511883 3.519975-43.52769z m-286.557962 192.878629l-38.719725-126.831099-38.719725 126.831099H51.214596l100.679284 78.055445-38.719724 126.079103 101.383279-75.039466 100.679284 75.039466-38.719725-126.079103 101.383279-75.055467-124.615114-2.999978z"
          fill="#FFD700"
          p-id="2044"
        ></path>
      </svg>
      <svg v-else t="1610014874410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3052">
        <path d="M67.4 827h888.1V196.5H67.4V827z m889.5 1.6v-2.3 2.3z m-893.2 2.3V192.6h895.5v638.3H63.7z m0 0" fill="#353636" p-id="3053"></path>
        <path d="M65.1 633.4h891.8V682H65.1z" fill="#FFFFFF" p-id="3054"></path>
        <path d="M65.1 584.7h891.8v48.7H65.1z" fill="#C21F45" p-id="3055"></path>
        <path d="M65.1 731.3h891.8V780H65.1z" fill="#FFFFFF" p-id="3056"></path>
        <path d="M65.1 780h891.8v48.6H65.1V780z m0-97.3h891.8v48.6H65.1v-48.6z m0 0" fill="#C21F45" p-id="3057"></path>
        <path d="M65.1 536.1h891.8v48.6H65.1z" fill="#FFFFFF" p-id="3058"></path>
        <path d="M65.1 389.4h891.8v48.7H65.1z" fill="#C21F45" p-id="3059"></path>
        <path d="M65.1 242.8h891.8v48.7H65.1z" fill="#FFFFFF" p-id="3060"></path>
        <path d="M65.1 291.5h891.8v48.6H65.1v-48.6z m0 195.2h891.8v48.6H65.1v-48.6z m0-292.5h891.8v48.6H65.1v-48.6z m0 0" fill="#C21F45" p-id="3061"></path>
        <path d="M65.1 340.9h891.8v48.6H65.1v-48.6z m0 97.2h891.8v48.6H65.1v-48.6z m0 0" fill="#FFFFFF" p-id="3062"></path>
        <path d="M65.1 194.2h357.1v341.9H65.1z" fill="#004881" p-id="3063"></path>
        <path
          d="M333.3 212.3l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m0 71.4l2.1 7.8h8.1L337 297l2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.2-7.8z m0 71.3l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.9-8.6-6.6-4.7h8.1l2.3-7.8z m0 72.1l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m0 69.9l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.3-7.8z m-59.5-284.7l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.1-7.8-5.8-4.7h7.3l3.1-8.6z m0 71.4l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.1-7.8-5.8-5.5h7.3l3.1-7.8z m0 71.3l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.1-8.6-5.8-4.7h7.3l3.1-7.8z m0 72.1l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.1-7.8-5.8-4.7h7.3l3.1-8.6z m0 69.9l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.1-7.8-5.8-5.5h7.3l3.1-7.8z m-59.6-284.7l2.1 8.6h8.1l-6.6 4.7 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-4.7h8.1l3.1-8.6z m0 71.4l2.1 7.8h8.1l-6.6 5.5 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-5.5h8.1l3.1-7.8z m0 71.3l2.1 7.8h8.1l-6.6 4.7 2.1 8.6-5.8-5.5-6.6 5.5 2.1-8.6-6.6-4.7h8.1l3.1-7.8z m0 72.1l2.1 8.6h8.1l-6.6 4.7 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-4.7h8.1l3.1-8.6z m0 69.9l2.1 7.8h8.1l-6.6 5.5 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-5.5h8.1l3.1-7.8zM154 212.3l2.9 8.6h7.3l-5.9 4.7 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.4-8.6z m0 71.4l2.9 7.8h7.3l-5.9 5.5 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.4-7.8z m0 71.3l2.9 7.8h7.3l-5.9 4.7 2.1 8.6-6.6-5.5-6.6 5.5 2.9-8.6-6.6-4.7h8.1l2.4-7.8z m0 72.1l2.9 8.6h7.3l-5.9 4.7 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.4-8.6z m0 69.9l2.9 7.8h7.3l-5.9 5.5 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.4-7.8zM94.6 212.3l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m0 71.4l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.3-7.8z m0 71.3l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.9-8.6-6.6-4.7h8.1l2.3-7.8z m0 72.1l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m0 69.9l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.3-7.8z m269.5-248.7l2.1 7.8h8.1l-6.6 4.7 2.1 8.6-5.8-5.5-6.6 5.5 2.1-8.6-6.6-4.7h8.1l3.1-7.8z m0 73l2.1 8.6h8.1l-6.6 4.7 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-4.7h8.1l3.1-8.6z m-0.7 72l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.1-7.8-6.6-5.5h8.1l3.1-7.8z m-0.8 71.4l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.1-8.6-5.8-4.7h8.1l2.3-7.8z m-58.7-216.4l2.9 7.8h7.3l-5.8 4.7 2.1 8.6-6.6-5.5-6.6 5.5 2.9-8.6-6.6-4.7h8.1l2.3-7.8z m0 73l2.9 8.6h7.3l-5.8 4.7 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m-0.8 72l2.9 7.8h8.1l-6.6 5.5 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-5.5h8.1l2.3-7.8z m0 71.4l2.1 7.8h8.1l-6.6 4.7 2.1 8.6-5.8-5.5-6.6 5.5 2.1-8.6-6.6-4.7h8.1l3.1-7.8z m-58.8-219.5l2.1 8.6h8.1l-6.6 4.7 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m0 73.7l2.1 7.8h8.1l-6.6 5.5 2.9 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-5.5h8.1l2.3-7.8z m-0.7 72.2l2.9 7.8h7.3l-5.8 4.7 2.1 8.6-6.6-5.5-6.6 5.5 2.9-8.6-6.6-4.7h8.1l2.3-7.8z m-0.7 70.5l2.9 8.6h8.1l-6.6 4.7 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-4.7h8.1l2.3-8.6z m-58-216.4l2.1 7.8h8.1l-6.6 4.7 2.1 8.6-5.9-5.5-6.6 5.5 2.1-8.6-6.6-4.7h8.1l3.2-7.8z m0 72.9l2.1 7.8h8.1l-6.6 5.5 2.1 7.8-5.9-4.7-6.6 4.7 2.1-7.8-6.6-5.5h8.1l3.2-7.8z m-0.7 72.1l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.1-8.6-5.8-4.7h8.1l2.3-7.8z m-0.8 70.6l2.1 8.6h8.1l-5.8 4.7 2.1 7.8-6.6-4.7-6.6 4.7 2.9-7.8-6.6-4.7h8.1l2.3-8.6z m-58.8-217.2l2.9 7.8h8.1l-6.6 5.5 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-5.5h8.1l2.3-7.8z m0 73l2.9 8.6h8.1l-6.6 4.7 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-4.7h8.1l2.3-8.6z m0 72l2.1 7.8h8.1l-6.6 5.5 2.1 7.8-5.8-4.7-6.6 4.7 2.1-7.8-6.6-5.5h8.1l3.1-7.8z m-0.7 71.4l2.1 7.8h8.1l-6.6 4.7 2.9 8.6-6.6-5.5-6.6 5.5 2.1-8.6-5.8-4.7h7.3l3.1-7.8z m268.8-247.7l2.9 8.6h8.1l-6.6 4.7 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-4.7h8.1l2.3-8.6z m0 71.4l2.9 7.8h8.1l-6.6 5.4 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-5.4h8.1l2.3-7.8z m0 71.3l2.9 7.8h8.1l-6.6 4.7 2.1 8.6-6.6-5.5-5.8 5.5 2.1-8.6-6.6-4.7h8.1l2.3-7.8z m0 72.1l2.9 8.6h8.1l-6.6 4.7 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-4.7h8.1l2.3-8.6z m0 69.9l2.9 7.8h8.1l-6.6 5.4 2.1 7.8-6.6-4.7-5.8 4.7 2.1-7.8-6.6-5.5h8.1l2.3-7.7z m0 0"
          fill="#FFFFFF"
          p-id="3064"
        ></path>
      </svg>
      <span v-if="selectedLanguage === 'zh'" class="text">{{$t('navbar.chinese')}}</span>
      <span v-else class="text">{{$t('navbar.english')}}</span>
    </div>
    <el-dropdown-menu slot="dropdown">
      <el-dropdown-item command="zh" :disabled="selectedLanguage === 'zh'">
        {{$t('navbar.chinese')}}
      </el-dropdown-item>
      <el-dropdown-item command="en" :disabled="selectedLanguage === 'en'">
        {{$t('navbar.english')}}
      </el-dropdown-item>
    </el-dropdown-menu>
  </el-dropdown>
</template>
<script>
import { setItem } from '@/utils/storage.js'
export default {
  name: 'LangSelect',
  data() {
    return {
      // 选中的语言
      selectedLanguage: this.$i18n.locale || 'zh'
    }
  },
  methods: {
    // 控制语言切换
    handleSetLanguage(language) {
      console.log(language)
      if (language === 'en') {
        this.selectedLanguage = 'en'
      } else {
        this.selectedLanguage = 'zh'
      }
      // 更新本地语言
      setItem('locale', this.selectedLanguage)
      // 修改i18n
      this.$i18n.locale = this.selectedLanguage
    }
  }
}
</script>
<style lang="scss" scoped>
.international {
  cursor: pointer;
  .language-change {
    display: flex;
    align-items: center;
    height: 70px;
    color: #fff;
    .icon {
      width: 30px;
      height: 30px;
    }
    .text {
      margin-left: 10px;
    }
  }
}
</style>
